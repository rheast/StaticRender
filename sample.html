<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="rheast.js"></script>
</head>

<body>
    <ul>
        <li _for="myData">
            <div class="{color}">
                <span>{_index}</span>
                <span>{name}</span>
            </div>
            <div>
                <div _for="data" _if="time">
                    <span>{_index}</span>
                    <span>{time}</span>
                    <span>{text}</span>
                </div>
                <span _for="data" _else="time">
                    <span>{_value}</span>
                </span>
            </div>
        </li>
        <li>
            <div>
                <span _for="[2, 0, 4, 8]">{_this}</span>
            </div>
        </li>
        <li _for class="newData {color}">
            <div>
                <span>{name}</span>
                <span>{age}</span>
                <span>{city}</span>
            </div>
        </li>
    </ul>

    <script>
        var myData = [
            {
                name: 'Adam',
                data: Array.from({ length: 9 }, (_, i) => Math.pow(2, i + 1)),
            },
            {
                name: 'Bob',
                data: ['Football', 'Basketball', 'Volleyball'],
                color: 'red',
            },
            {
                name: 'Claire',
                data: [
                    { time: 'Monday', text: 'Yesterday' },
                    { time: 'Tuesday', text: 'Today' },
                    { time: 'Wednesday', text: 'Tomorrow' },
                ],
                color: 'blue',
            },
        ];

        setTimeout(() => {
            let data = {
                "status": 200,
                "message": "Request successful",
                "data": [
                    { "name": "Alice", "age": 30, "city": "New York" },
                    { "name": "Bob", "age": 25, "city": "Los Angeles", color: "red" },
                    { "name": "Charlie", "age": 35, "city": "Chicago", color: "blue" },
                ]
            };
            rheast.forClone('.newData', data.data);
        }, 3000);

        let myStyle = document.createElement('style');
        myStyle.textContent = '.red { color: red; } .blue { color: blue; } li { padding: .5em 0; }';
        document.querySelector('head').appendChild(myStyle);
    </script>
</body>

</html>